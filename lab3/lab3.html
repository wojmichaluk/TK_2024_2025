
<!-- saved from url=(0051)https://home.agh.edu.pl/~mkuta/tklab/lab3/lab3.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
      
      <title>Lab</title>
      <link rel="StyleSheet" type="text/css" href="./lab3_files/style.css">
   </head>
   <body>

<h2>Lab 3</h2>

<a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/lab3-intro.pdf">Wprowadzenie</a>

<p>
Zadanie polega na stworzeniu i wypisaniu abstrakcyjnego drzewa sk³adni (ang. abstract syntax tree, AST).

Drzewo sk³adni powinno uwzglêdniaæ w swoich wêz³ach nastêpuj±ce konstrukcje:
</p><ul>
<li> wyra¿enia binarne,
</li><li> wyra¿enia relacyjne,
</li><li> instrukcje przypisania,
</li><li> instrukcje warunkowe <code>if-else</code>,
</li><li> pêtle: <code>while</code> oraz <code>for</code>,
</li><li> instrukcje <code>break</code>, <code>continue</code> oraz <code>return</code>,
</li><li> instrukcje <code>print</code>,
</li><li> instrukcje z³o¿one,
</li><li> tablice oraz ich zakresy.
</li></ul>


<p>
Przyk³adowo, dla poni¿szego <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example.txt">kodu</a>:

</p><pre class="code">A = zeros(5); # create 5x5 matrix filled with zeros
D = A.+B' ;   # add element-wise A with transpose of B

for j = 1:10 
    print j;
</pre>

translator powinien stworzyæ odpowiadaj±ce mu drzewo sk³adni (AST) oraz wypisaæ jego tekstow± reprezentacjê
na standardowym wyj¶ciu:

<pre class="code">=
|  A
|  zeros
|  |  5
=
|  D
|  .+
|  |  A
|  |  TRANSPOSE
|  |  |  B
FOR
|  j
|  RANGE
|  |  1
|  |  10
|  PRINT
|  |  j
</pre>


Przyk³adowe pliki wej¶ciowe: <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example1.m">example1.m</a>, <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example2.m">example2.m</a>, <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example3.m">example3.m</a>

<br>
oraz odpowiadaj±ce wyj¶ciowe drzewa sk³adni:
<a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example1.tree">example1.tree</a>, <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example2.tree">example2.tree</a>, <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/example3.tree">example3.tree</a>

<p></p>


<ul>

<li>Do rozwi±zania zadania mo¿na u¿yæ generatora parserów <code>SLY</code> lub <code>PLY</code>.

</li><li>Rozpoznawany jêzyk powinien byæ zgodny ze stworzon± gramatyk±.
Obecno¶æ bia³ych znaków, sposób sformatowania tekstu nie ma wp³ywu na postaæ drzewa.

</li><li>Drzewo abstrakcyjne sk³adni (AST) powinno byæ wypisywane tylko dla syntaktycznie poprawnego wej¶cia.

</li><li>Translator powinien wykrywaæ niepoprawne syntaktycznie wej¶cie.
W takim przypadku lepiej nie tworzyæ drzewa syntaktycznego,
ale dla niepoprawnych linii wypisywaæ numer linii wraz z informacj± ¿e wyst±pi³ b³±d.


</li><li>Do stworzenia translatora, mo¿na u¿yæ poprzednio stworzonych plików skanera oraz parsera.
Nowe pliki, które zostan± stworzone, to <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/AST.py">AST.py</a>, <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/TreePrinter.py">TreePrinter.py</a>
oraz <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/main.py">main.py</a> lub <a href="https://home.agh.edu.pl/~mkuta/tklab/lab3/main_sly.py">main_sly.py</a>.

</li><li>W trakcie parsingu nale¿y stworzyæ drzewo syntaktyczne.
Ró¿nica miêdzy (konkretnym) drzewem parsingu (ang. <i>parse tree</i>) a 
(abstrakcyjnym) drzewem syntaktycznym (ang. <i>syntax tree</i>) opisana jest
<a href="http://eli.thegreenplace.net/2009/02/16/abstract-vs-concrete-syntax-trees">tutaj</a>.

</li><li>W zale¿no¶ci od rodzaju nieterminala nale¿y zdefiniowaæ specyficzne dla nich klasy lub struktury danych
(sta³a, zmienna, przypisanie, wyra¿enie arytmetyczne, wyra¿enie porównania, instrukcja warunkowa, lista instrukcji, itp.).

</li><li>Dla ka¿dej klasy nale¿y zdefiniowaæ funkcjê <code>printTree</code> wypisuj±c± 
odpowiadaj±c± danemu wêz³owi czê¶æ drzewa syntaktycznego.

</li><li>Wszystkie funkcje <code>printTree</code> nale¿y zdefiniowaæ odpowiednio w klasie <code>TreePrinter</code>.
Funkcje te zostan± zainstalowane w klasach odpowiadaj±cym wêz³om drzewa abstrakcyjnego
przy pomocy dekoratora <code>@addToClass</code>.
<a href="https://www.matthieuamiguet.ch/media/documents/TeachingCompilersWithPython_Paper.pdf"><code>@addToClass</code></a>.
Dekoratory opisane s± szczegó³owo w <i>M. Lutz, Learning Python, 4th Ed., Chapt. 38</i>.

<p></p>




</li></ul></body></html>